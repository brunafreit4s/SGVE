@{
    ViewData["Title"] = "Página Inicial";
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
    @model Retorno
}

<div class="text-center">
    <div class="row col-12"><h1 class="display-4">Seja Bem vindo(a), <b class="display-4 text-black-50">@User.Identity.Name</b></h1></div>
    <p>
        Preparamos algumas informações de acesso rápido para você:
    </p>

    <div class="row col-12">
        <div class="col-lg-6"><h4 class="text-black-50">Produtos cadastrados no sistema:</h4><div id="donutchart" style="width: 800px; height: 400px"></div></div>
        <div class="col-lg-6"><h4 class="text-black-50">Vendas:</h4><div id="chart_div" style="width: 800px; height: 400px;"></div></div>
    </div>
    <div class="row col-12">
    </div>
    <hr/>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    var vListaProd = @Html.Raw(Json.Serialize(Model.Produtos));    

    google.charts.load("current", { packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();

        data.addColumn('string', 'Task');
        data.addColumn('number', 'Hours per Day');

        $.each(vListaProd, function (key, aLista) {
            data.addRows([
                [aLista.nome, aLista.quantidade],
            ]);
        });

        var options = {
            pieHole: 0.6,
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
    }
</script>

<script type="text/javascript">
    var vListaFunc = @Html.Raw(Json.Serialize(Model.Funcionario));

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawVisualization);

    function drawVisualization() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
            ['Mês', 'Bolivia', 'Ecuador', 'Madagascar', 'Papua New Guinea', 'Rwanda', 'Average'],
            ['2023/05', 165, 938, 522, 998, 450, 614.6],
            ['2023/06', 135, 1120, 599, 1268, 288, 682],
            ['2023/07', 157, 1167, 587, 807, 397, 623],
            ['2023/08', 139, 1110, 615, 968, 215, 609.4],
            ['2023/09', 136, 691, 629, 1026, 366, 569.6]
        ]);

        var options = {
            vAxis: { title: 'Quantidade' },
            hAxis: { title: 'Mês' },
            seriesType: 'bars',
            series: { 5: { type: 'line' } }
        };

        var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
</script>